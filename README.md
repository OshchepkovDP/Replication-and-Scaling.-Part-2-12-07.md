# Домашнее задание к занятию "`#«Репликация и масштабирование. Часть 2» - Ощепков Дмитрий`"

### Инструкция по выполнению домашнего задания

1. Сделайте fork [репозитория c шаблоном решения](https://github.com/netology-code/sys-pattern-homework) к себе в Github и переименуйте его по названию или номеру занятия, например, https://github.com/имя-вашего-репозитория/gitlab-hw или https://github.com/имя-вашего-репозитория/8-03-hw).
2. Выполните клонирование этого репозитория к себе на ПК с помощью команды `git clone`.
3. Выполните домашнее задание и заполните у себя локально этот файл README.md:
   - впишите вверху название занятия и ваши фамилию и имя;
   - в каждом задании добавьте решение в требуемом виде: текст/код/скриншоты/ссылка;
   - для корректного добавления скриншотов воспользуйтесь инструкцией [«Как вставить скриншот в шаблон с решением»](https://github.com/netology-code/sys-pattern-homework/blob/main/screen-instruction.md);
   - при оформлении используйте возможности языка разметки md. Коротко об этом можно посмотреть в [инструкции по MarkDown](https://github.com/netology-code/sys-pattern-homework/blob/main/md-instruction.md).
4. После завершения работы над домашним заданием сделайте коммит (`git commit -m "comment"`) и отправьте его на Github (`git push origin`).
5. Для проверки домашнего задания преподавателем в личном кабинете прикрепите и отправьте ссылку на решение в виде md-файла в вашем Github.
6. Любые вопросы задавайте в чате учебной группы и/или в разделе «Вопросы по заданию» в личном кабинете.

Желаем успехов в выполнении домашнего задания.
---

### Задание 1

Опишите основные преимущества использования методов масштабирования:

активный мастер-сервер и пассивный репликационный подчиненный сервер;
мастер-сервер и несколько подчиненных серверов;
Дайте ответ в свободной форме.

Ответ.

Мастер-сервер и пассивный репликационный подчиненный сервер
Надёжность доступа данных: при выходе из строя мастер-сервера, система перекдючается на подчинённый сервер;
Подчинённый сервер автоматически получает копии данных;
В то время как мастер-сервер сосредоточен на транзакциях, подчинённый сервер может выполнять резервное копирование, что снижает нагрузку и увеличивает скорость работы;
Более простая архитектура.

Мастер-сервер и несколько подчиненных серверов
Горизонтальное масштабирование за счёт новых серверов;
Распределение нагрузки между несколькими подчинёнными серверами;
При выходе нескольких подчинённых серверов, система продолжает работать;
Возможность назначения разных ролей подчинённым серверам;
Параллельная обработка запросов на разных серверах;
Возможность размещения серверов в разных регионах для улучшения доступности сервиса.

1. `Заполните здесь этапы выполнения, если требуется ....`
2. `Заполните здесь этапы выполнения, если требуется ....`
3. `Заполните здесь этапы выполнения, если требуется ....`
4. `Заполните здесь этапы выполнения, если требуется ....`
5. `Заполните здесь этапы выполнения, если требуется ....`
6. 

```
Поле для вставки кода...
....
....
....
....
```

`При необходимости прикрепитe сюда скриншоты
![Название скриншота 1](ссылка на скриншот 1)`


---

### Задание 2

Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трех таблиц:

население,
книги,
магазины (столбцы отчеты).
Оставьте рекомендации по построению систем и их разграничение или разбивку между базами данных.

Пришлите блок-схему, где и что будет располагаться. Опишите, в каких режимах будет работать сервер.

Ответ:
Так как предложенные группы данных могут быть весьма массивными по объёму, лучше разделить каждую по отдельным ведомым серверам, что должно ускорить чтение этих данных.
Так же, стоит сделать отдельный 4 сервер для данных которые используются реже, но так же могут занимать очень большой объём, например отзывы на книги. 
Представленный план несколько упрощён, но при реальной его реализации, так же стоит добавить балансировщик нагрузок, кеширование данных, индексацию. 
Сервера будут работать по принципу master-slave
План реализации горизонтального и вертикального разделения базы данных
Горизонтальное разделение

Таблица “Пользователи”(Население) [shard 1]

Разделение по пользователям

Таблица “Книги” [shard 2]:

Разделение по книгам

Таблица “Магазины” [shard 3]:

Разделение по региону

Вертикальное разделение

Таблица “Пользователи”(Население):

Часто используемые данные (id, имя, email, пароль) - shard 1
Редко используемые данные (адрес, телефон, история) - shard 4

Таблица “Книги”:

Основные данные (id, название, автор, дата выхода) - shard 1
Метаданные (описание, отзывы) - shard 4

Таблица “Магазины”:

Основная информация (id, название, адрес) - shard 1
Статистика продаж - shard 4
История заказов - shard 4


[Главный сервер (Master)]
     |
     | (Репликация)
     +------------------------------------------------------------------------------------------------+
     |                     |             |            |
[Shard 1]             [Shard 2]      [Shard 3]      [Shard 4]
| "Пользователи"    | | "Книги"    | | "Магазины"| | "Пользователи"  | | "Книги" | | "Магазины"       |
| Имя               | | Жанр       | | Название  | | Адрес           | | Описание| | Статистика продаж|
| Почта             | | Автор      | | Адрес     | | Телефон         | | Отзывы  | | История заказов  |
| Пароль            | | Название   |               | История запросов|
| Дата регистрации  | | Дата выхода|


1. `Заполните здесь этапы выполнения, если требуется ....`
2. `Заполните здесь этапы выполнения, если требуется ....`
3. `Заполните здесь этапы выполнения, если требуется ....`
4. `Заполните здесь этапы выполнения, если требуется ....`
5. `Заполните здесь этапы выполнения, если требуется ....`
6. 

```
Поле для вставки кода...
....
....
....
....
```

`При необходимости прикрепитe сюда скриншоты
![Название скриншота 2](ссылка на скриншот 2)`
